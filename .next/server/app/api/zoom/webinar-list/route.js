"use strict";(()=>{var e={};e.id=417,e.ids=[417],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},50161:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>h,patchFetch:()=>_,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>w,staticGenerationAsyncStorage:()=>m});var r={};o.r(r),o.d(r,{GET:()=>p});var n=o(73278),s=o(45002),a=o(54877),i=o(71309);async function c(){let e=process.env.ZOOM_ACCOUNT_ID,t=process.env.ZOOM_CLIENT_ID,o=process.env.ZOOM_CLIENT_SECRET;if(!e||!t||!o)throw Error("Missing Zoom API credentials. Please set ZOOM_ACCOUNT_ID, ZOOM_CLIENT_ID, and ZOOM_CLIENT_SECRET in your environment variables.");let r=`https://zoom.us/oauth/token?grant_type=account_credentials&account_id=${e}`,n=await fetch(r,{method:"POST",headers:{Authorization:`Basic ${Buffer.from(`${t}:${o}`).toString("base64")}`,"Content-Type":"application/x-www-form-urlencoded"}});if(!n.ok)throw Error(`Failed to get Zoom access token: ${n.status}`);return(await n.json()).access_token}async function u(e){let t=await fetch("https://api.zoom.us/v2/users/me/webinars",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw Error(`Failed to fetch webinars: ${t.status}`);return(await t.json()).webinars||[]}async function p(){try{if(!(process.env.ZOOM_ACCOUNT_ID&&process.env.ZOOM_CLIENT_ID&&process.env.ZOOM_CLIENT_SECRET))return console.log("Zoom API credentials not configured. Returning empty webinar list."),i.NextResponse.json([]);let e=await c(),t=(await u(e)).map(e=>(console.log("Raw Zoom webinar data:",e),{id:e.id.toString(),topic:e.topic,start_time:e.start_time,join_url:e.join_url,duration:e.duration,status:e.status||"waiting"}));return console.log("Returning webinars:",t),i.NextResponse.json(t)}catch(e){return console.error("Error fetching webinars:",e),i.NextResponse.json([])}}let l=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/zoom/webinar-list/route",pathname:"/api/zoom/webinar-list",filename:"route",bundlePath:"app/api/zoom/webinar-list/route"},resolvedPagePath:"C:\\Users\\nande\\OneDrive\\Desktop\\projects\\the-school-of-options\\client\\school-of-options\\src\\app\\api\\zoom\\webinar-list\\route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:w}=l,h="/api/zoom/webinar-list/route";function _(){return(0,a.patchFetch)({serverHooks:w,staticGenerationAsyncStorage:m})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),r=t.X(0,[379,833],()=>o(50161));module.exports=r})();